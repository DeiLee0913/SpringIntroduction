# Domain

## Member Domain

*src/main/java/domain/Member.java*

```java
public class Member {

    private Long id;
    private String name;

    public Long getId() {
        return id;
    }

    public void setId(Long id) {
        this.id = id;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }
}
```

# Repository

## MemberReposiotry Interface

*src/main/java/repository/MemberRepository.java*

```java
import java.util.List;
import java.util.Optional;

public interface MemberRepository {
    Member save(Member member);
    Optional<Member> findById(Long id);
    Optional<Member> findByName(String name);
    List<Member> findAll();
}
```

íšŒì› ë°ì´í„°ì— ì ‘ê·¼í•˜ê¸° ìœ„í•œ ë©”ì„œë“œ ì •ì˜

- **`save`** ë©”ì†Œë“œë¡œ íšŒì›ì„ ì €ì¥í•˜ê³ ,
- **`findById`**ì™€ **`findByName`**ìœ¼ë¡œ íŠ¹ì • íšŒì›ì„ ê²€ìƒ‰í•  ìˆ˜ ìˆìœ¼ë©°,
- **`findAll`**ë¡œ ëª¨ë“  íšŒì› ë¦¬ìŠ¤íŠ¸ë¥¼ ì¡°íšŒ ê°€ëŠ¥
- **`Optional`**ì€ íšŒì›ì´ ì¡´ì¬í•˜ì§€ ì•Šì„ ê²½ìš°ë¥¼ ëŒ€ë¹„í•´ null ì²˜ë¦¬ë¥¼ ê°„ì†Œí™”í•˜ëŠ” ë˜í¼

<aside>
ğŸ’¡ **Optional
`Optional`**ì€ ìë°” 8ë¶€í„° ë„ì…ëœ ê¸°ëŠ¥ìœ¼ë¡œ, **`null`**ì„ ë‹¤ë£¨ëŠ” ìƒˆë¡œìš´ ë°©ì‹ì„ ì œê³µí•©ë‹ˆë‹¤. **`Optional<T>`**ëŠ” **`T`** íƒ€ì…ì˜ ê°ì²´ë¥¼ ê°ì‹¸ëŠ” ë˜í¼(wrapper) í´ë˜ìŠ¤ë¡œ, ê²°ê³¼ê°€ ì—†ì„ ìˆ˜ë„ ìˆëŠ” ìƒí™©ì—ì„œ **`null`** ëŒ€ì‹  ì‚¬ìš©ë©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ **`NullPointerException`**ì´ ë°œìƒí•  ìœ„í—˜ì„ ì¤„ì´ê³  ì½”ë“œì˜ ê°€ë…ì„±ì„ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
â‡’ **`Optional`ì„ ì‚¬ìš©í•¨ìœ¼ë¡œì¨ `null` ì²´í¬ë¥¼ ëª…ì‹œì ìœ¼ë¡œ ìˆ˜í–‰í•  í•„ìš”ê°€ ì—†ì–´ì§€ê³ , ì½”ë“œì˜ ì˜ë„ê°€ ë” ëª…í™•í•´ì§€ë©°, ì˜ˆì™¸ ìƒí™©ì„ ë” ì‰½ê²Œ ì²˜ë¦¬**í•  ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

</aside>

## MemberRepository Class

**íšŒì› ì •ë³´ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” êµ¬í˜„ì²´**

*src/main/java/repository/MemoryMemberRepository.java*

```java
import java.util.*;

public class MemoryMemberRepository implements MemberRepository {

    private static Map<Long, Member> store = new HashMap<>();
    private static long sequence = 0L;

    @Override
    public Member Save(Member member) {
        member.setId(++sequence);
        store.put(member.getId(), member);

        return member;
    }

    @Override
    public Optional<Member> findById(Long id) {
        return Optional.ofNullable(store.get(id));
    }

    @Override
    public Optional<Member> findByName(String name) {
        return store.values().stream()
                .filter(member -> member.getName().equals(name))
                .findAny();
    }

    @Override
    public List<Member> findAll() {
        return new ArrayList<>(store.values());
    }
}
```

- **`MemberRepository`**Â ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„
- **`store`**ë¼ëŠ”Â **`Map`**ì„ ì‚¬ìš©í•˜ì—¬ íšŒì› ì •ë³´ë¥¼ ë©”ëª¨ë¦¬ì— ì €ì¥
    - ì‹¤ë¬´ì—ì„œëŠ” ë™ì‹œì„±ì„ ê³ ë ¤í•´ì„œ `**Concurrent HashMap**` ì‚¬ìš©
- **`sequence`**ëŠ” íšŒì› IDë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ë³€ìˆ˜
    - ì‹¤ë¬´ì—ì„œëŠ” ë™ì‹œì„±ì„ ê³ ë ¤í•´ì„œ **`Atomic Long`** ì‚¬ìš©

### ë©”ì„œë“œ êµ¬í˜„:

1. **`Save(Member member)`**: íšŒì› ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” ë©”ì„œë“œ, íšŒì› IDë¥¼ ì¦ê°€ì‹œí‚¤ê³ Â **`store`**ì— íšŒì› ì •ë³´ë¥¼ ì¶”ê°€
2. **`findById(Long id)`**: ì£¼ì–´ì§„ IDë¡œ íšŒì›ì„ ì°¾ëŠ” ë©”ì„œë“œ,Â **`store`**ì—ì„œ í•´ë‹¹ IDì˜ íšŒì›ì„ ì°¾ì•„ ë°˜í™˜
3. **`findByName(String name)`**: ì£¼ì–´ì§„ ì´ë¦„ìœ¼ë¡œ íšŒì›ì„ ì°¾ëŠ” ë©”ì„œë“œ,Â **`store`**ì˜ ëª¨ë“  íšŒì›ì„ ìˆœíšŒí•˜ë©° ì´ë¦„ì´ ì¼ì¹˜í•˜ëŠ” íšŒì›ì„ ì°¾ì•„ ë°˜í™˜
4. **`findAll()`**: ëª¨ë“  íšŒì› ì •ë³´ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜